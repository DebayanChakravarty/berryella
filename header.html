<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Berryella ‚Äì Fixed Header + Bottom Floating Dock + Profile Menu</title>
<style>
  :root{
    --bg: #0c0b0b;
    --fg: #f5f3ee;
    --muted:#b9b4ac;
    --accent:#c8a27b;
    --shadow: 0 10px 30px rgba(0,0,0,.25);
    --max-w: 1100px;
    --pad: 16px;
    --radius: 14px;
    --header-h: 70px;           /* header height */

    /* logo */
    --logo-size: 74px;
    --logo-overlap: 18px;
    --tiltX: 0deg;
    --tiltY: 0deg;

    /* bottom dock */
    --dock-gap: 8px;
    --dock-pad: 8px;
    --dock-radius: 16px;
    --dock-bottom: 16px;
    --dock-bg: rgba(20,20,20,.55);
    --dock-border: rgba(255,255,255,.10);
    --dock-blur: 10px;
    --dock-item: 40px;
    --dock-active: var(--accent);

    /* profile dropdown */
    --dd-bg: rgba(20,20,20,.70);
    --dd-border: rgba(255,255,255,.12);
    --dd-blur: 10px;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:var(--bg);
    color:var(--fg);
    font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    padding-top: var(--header-h); /* space for fixed header */
  }
  a{color:inherit;text-decoration:none}
  img{display:block;max-width:100%;height:auto}

  /* ===== Fixed Header ===== */
  .site-header{
    position: fixed; top: 0; left: 0; right: 0;
    z-index: 70;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    background: color-mix(in oklab, var(--bg) 86%, transparent);
    border-bottom: 1px solid rgba(255,255,255,.06);
    transition: background .25s ease, box-shadow .25s ease;
    overflow: visible;
  }
  .scrolled .site-header{ background: color-mix(in oklab, var(--bg) 92%, transparent); box-shadow: var(--shadow); }

  .nav-wrap{
    max-width: var(--max-w);
    margin-inline: auto;
    min-height: var(--header-h);
    padding: 0 var(--pad);
    display: grid;
    grid-template-columns: auto 1fr auto; /* brand | spacer | profile */
    align-items: center;
    gap: 12px;
    perspective: 700px;
    position: relative;
  }

  .brand{ display:flex; align-items:center; gap:12px; position:relative; }

  /* 3D pop-out logo */
  .logo-3d{
    position: relative;
    width: var(--logo-size);
    height: var(--logo-size);
    border-radius: 50%;
    background: #fff;
    display: grid;
    place-items: center;
    overflow: hidden;
    transform: translateY(var(--logo-overlap)) rotateX(var(--tiltX)) rotateY(var(--tiltY)) translateZ(0);
    transform-style: preserve-3d;
    will-change: transform, filter;
    filter:
      drop-shadow(0 6px 10px rgba(0,0,0,.42))
      drop-shadow(0 1px 0 rgba(255,255,255,.15));
  }
  .logo-3d img{ width:92%; height:92%; object-fit:contain; transform: translateZ(20px); }
  .logo-3d::before{
    content:""; position:absolute; inset:0; border-radius:50%;
    background:
      radial-gradient(120% 120% at 30% 25%, rgba(255,255,255,.35), rgba(255,255,255,0) 60%),
      radial-gradient(120% 120% at 70% 80%, rgba(255,255,255,.08), rgba(255,255,255,0) 55%);
    pointer-events:none; mix-blend-mode: screen;
  }
  .logo-3d::after{
    content:""; position:absolute; left:50%; bottom:-18px; width:78%; height:18px; translate:-50% 0;
    border-radius:999px; background:radial-gradient(60% 100% at 50% 50%, rgba(0,0,0,.45), rgba(0,0,0,0) 70%);
    filter: blur(6px); pointer-events:none; z-index:-1;
  }
  @media (max-width:600px){
    :root{ --logo-size:62px; --logo-overlap:14px; }
  }

  /* ===== Profile icon + dropdown ===== */
  .profile{
    justify-self: end;
    position: relative;
  }
  .profile-btn{
    display: grid; place-items:center;
    width: 40px; height: 40px;
    border-radius: 12px;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.10);
    cursor: pointer;
    transition: transform .18s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease;
  }
  .profile-btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); }
  .profile-btn:focus-visible{ outline: 2px solid var(--accent); outline-offset: 2px; }

  .profile-btn svg{ width: 20px; height: 20px; display:block; }

  .dropdown{
    position: absolute;
    top: calc(100% + 10px);
    right: 0;
    min-width: 200px;
    padding: 10px;
    border-radius: 14px;
    background: var(--dd-bg);
    border: 1px solid var(--dd-border);
    backdrop-filter: blur(var(--dd-blur));
    -webkit-backdrop-filter: blur(var(--dd-blur));
    box-shadow: 0 10px 30px rgba(0,0,0,.35);
    opacity: 0; transform: translateY(-6px) scale(0.98);
    pointer-events: none;
    transition: opacity .16s ease, transform .16s ease;
    z-index: 80; /* above header */
  }
  .dropdown.open{ opacity: 1; transform: translateY(0) scale(1); pointer-events: auto; }

  .dropdown a{
    display: block;
    padding: 10px 12px;
    border-radius: 10px;
    color: var(--fg);
    background: transparent;
    border: 1px solid transparent;
    font-size: 14px;
    transition: background .15s ease, border-color .15s ease;
  }
  .dropdown a:hover{
    background: rgba(255,255,255,.08);
    border-color: rgba(255,255,255,.10);
  }

  /* ===== Bottom-center floating dock ===== */
  .float-dock{
    position: fixed;
    left: 50%;
    transform: translateX(-50%);
    bottom: var(--dock-bottom);
    z-index: 60;
    display: grid;
    grid-auto-flow: column;
    gap: var(--dock-gap);
    padding: var(--dock-pad);
    border-radius: var(--dock-radius);
    backdrop-filter: blur(var(--dock-blur));
    -webkit-backdrop-filter: blur(var(--dock-blur));
    background: var(--dock-bg);
    border: 1px solid var(--dock-border);
    box-shadow: 0 8px 30px rgba(0,0,0,.30);
  }
  .float-dock a{
    display: grid; place-items: center;
    width: var(--dock-item); height: var(--dock-item);
    border-radius: 12px;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.08);
    color: var(--fg);
    font-size: 12px;
    line-height: 1; text-align:center;
    transition: transform .18s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease;
  }
  .float-dock a:hover{ transform: translateY(-2px); background: rgba(255,255,255,.10); }
  .float-dock a.active{
    border-color: var(--dock-active);
    box-shadow: 0 0 0 2px color-mix(in oklab, var(--dock-active) 40%, transparent) inset;
  }
  @media (max-width: 900px){
    :root{ --dock-item: 46px; --dock-radius: 18px; }
  }

  /* ===== Demo content ===== */
  .hero{ max-width: var(--max-w); margin:24px auto; padding-inline: var(--pad); display:grid; gap:14px; }
  .card{
    border:1px solid rgba(255,255,255,.08);
    background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));
    border-radius: var(--radius);
    padding:18px;
  }
  .section{ scroll-margin-top: calc(var(--header-h) + 24px); }

  footer{
    max-width: var(--max-w); margin: 60px auto 0; padding: 24px var(--pad);
    color: var(--muted);
    border-top: 1px solid rgba(255,255,255,.1);
  }
</style>
<script type="module" src="./berryella-product-highlight/berryella-product-slider.js"></script>

</head>
<body>
  <!-- FIXED HEADER -->
  <header class="site-header" id="header">
    <div class="nav-wrap">
      <!-- Left: Brand + 3D logo -->
      <a href="/" class="brand" aria-label="Berryella home">
        <div class="logo-3d" id="logo3d">
          <img src="./assets/images/berryella.webp" alt="Berryella logo">
        </div>
      </a>

      <!-- Middle spacer -->
      <div></div>

      <!-- Right: Profile icon + dropdown -->
      <div class="profile">
        <button class="profile-btn" id="profileBtn" aria-haspopup="menu" aria-expanded="false" aria-controls="profileMenu" title="Account">
          <!-- simple user icon (inline svg) -->
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5Z" stroke="currentColor" stroke-width="1.6"/>
            <path d="M21 22a9 9 0 0 0-18 0" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
        </button>
        <nav class="dropdown" id="profileMenu" role="menu" aria-label="Account menu">
          <a href="/login" role="menuitem">Log in</a>
          <a href="/register" role="menuitem">Register</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- BOTTOM-CENTER FLOATING DOCK -->
  <nav class="float-dock" aria-label="Floating navigation" id="floatDock">
    <a href="#products" data-label="Products" id="fm-products" aria-label="Products">P</a>
    <a href="#story" data-label="Our Story" id="fm-story" aria-label="Our Story">S</a>
    <a href="#blog" data-label="Blog" id="fm-blog" aria-label="Blog">B</a>
    <a href="#contact" data-label="Contact" id="fm-contact" aria-label="Contact">C</a>
    <a href="#shop" data-label="Shop" id="fm-shop" aria-label="Shop">üõç</a>
  </nav>

  <!-- CONTENT / SECTIONS -->
  <main class="hero">

    <berryella-product-slider
    style="max-width:1100px;margin:auto"
    data='[
        {
        "title":"Berryella Foaming Face Wash",
        "careType":"Sun Care",
        "price":"200",
        "image":"http://127.0.0.1:5500/berryella/assets/images/Cream%20and%20Brown%20Minimalist%20Skincare%20Mockup%20Instagram%20Post.png",
        "leftColor":"#2a1e2f",
        "rightColor":"#7b3d57",
        "badge":"New Product",
        "classification":{"Class":"Why","Order":"Would","Family":"You","Subfamily":"Even","Genus":"Buy","Species":"This"}
        },
        {
        "title":"Vitamin-C",
        "careType":"Your Hair",
        "price":"300",
        "image":"http://127.0.0.1:5500/berryella/assets/images/Orange%20and%20Peach%20Modern%20Minimalist%20Seasonal%20Skincare%20Tips%20Instagram%20Post.png",
        "leftColor":"#F39F9F",
        "rightColor":" #FFC29B",
        "badge":"New Product",
        "classification":{"Class":"Seriously","Order":"These","Family":"Things","Subfamily":"Are","Genus":"Pretty","Species":"Creepy"}
        },
        {
        "title": "Nastious Maximus",
        "careType": "Your Face",
        "price": "400",
        "image": "http://127.0.0.1:5500/berryella/assets/images/Brown%20White%20Elegant%20Neutral%20Branding%20Inclusive%20Skincare%20Mockup%20Instagram%20Post.png",
        "leftColor":  "#696FC7",
        "rightColor": "#A7AAE1",
        "badge": "New Product",
        "classification": {"Class":"Seriously","Order":"These","Family":"Things","Subfamily":"Are","Genus":"Pretty","Species":"Creepy"}
        }
        
    ]'>
</berryella-product-slider>


    <section class="card section" id="products">
      <h1>Products</h1>
      <p>Showcase bestselling serums, moisturizers, masks.</p>
      <div style="height:60vh">
      
      </div>
    </section>

    <section class="card section" id="story">
      <h2>Our Story</h2>
      <p>Nature ‚Üí product ‚Üí beauty narrative.</p>
      <div style="height:60vh"></div>
    </section>

    <section class="card section" id="blog">
      <h2>Blog</h2>
      <p>Skincare tips, guides, routines.</p>
      <div style="height:60vh"></div>
    </section>

    <section class="card section" id="contact">
      <h2>Contact</h2>
      <p>Support, email, address.</p>
      <div style="height:60vh"></div>
    </section>

    <section class="card section" id="shop">
      <h2>Shop</h2>
      <p>CTA to catalog / checkout.</p>
      <div style="height:60vh"></div>
    </section>
  </main>

  <footer id="footer">
    <p>&copy; 2025 Berryella. All rights reserved.</p>
  </footer>

<script>
  // Header depth cue
  window.addEventListener('scroll', () => {
    document.body.classList.toggle('scrolled', window.scrollY > 4);
  });

  // Optional: gentle mouse-tilt for the logo (desktop only)
  const logo = document.getElementById('logo3d');
  if (matchMedia('(hover:hover)').matches && logo){
    const maxTilt = 8;
    const setTilt = (x,y) => {
      logo.style.setProperty('--tiltX', `${x}deg`);
      logo.style.setProperty('--tiltY', `${y}deg`);
    };
    const reset = () => setTilt(0,0);
    logo.addEventListener('mousemove', (e) => {
      const r = logo.getBoundingClientRect();
      const dx = ((e.clientX - (r.left + r.width/2)) / (r.width/2));
      const dy = ((e.clientY - (r.top + r.height/2)) / (r.height/2));
      const rx = (dy * maxTilt).toFixed(2);
      const ry = (-dx * maxTilt).toFixed(2);
      setTilt(rx, ry);
    });
    logo.addEventListener('mouseleave', reset);
    logo.addEventListener('blur', reset);
  }

  // Floating dock: smooth scroll
  const byId = (id) => document.getElementById(id);
  document.getElementById('floatDock')?.addEventListener('click', (e) => {
    const a = e.target.closest('a[href^="#"]');
    if (!a) return;
    const id = a.getAttribute('href').slice(1);
    const el = byId(id);
    if (el){
      e.preventDefault();
      el.scrollIntoView({ behavior:'smooth', block:'start' });
    }
  });

  // Scrollspy highlight
  const map = [
    ['products','fm-products'],
    ['story','fm-story'],
    ['blog','fm-blog'],
    ['contact','fm-contact'],
    ['shop','fm-shop'],
  ];
  const links = map.map(([sid,lid]) => [sid, byId(lid)]);
  const sections = map.map(([sid]) => byId(sid));
  const activate = (id) => links.forEach(([sid, el]) => el && el.classList.toggle('active', sid === id));

  const io = new IntersectionObserver((entries) => {
    entries.forEach(entry => { if (entry.isIntersecting) activate(entry.target.id); });
  }, { rootMargin: '-40% 0px -50% 0px', threshold: 0.01 });
  sections.forEach(sec => sec && io.observe(sec));

  // Prevent dock overlapping footer: lift when footer visible
  const dock = document.getElementById('floatDock');
  const footer = document.getElementById('footer');
  const liftObserver = new IntersectionObserver((entries) => {
    const entry = entries[0];
    if (!entry) return;
    if (entry.isIntersecting){
      const overlap = Math.max(0, window.innerHeight - entry.boundingClientRect.top);
      const offset = Math.min(overlap + 16, entry.boundingClientRect.height + 24);
      dock.style.bottom = `calc(var(--dock-bottom) + ${Math.ceil(offset)}px)`;
    } else {
      dock.style.bottom = `var(--dock-bottom)`;
    }
  }, { threshold: [0, 0.01, 0.1, 0.25, 0.5, 0.75, 1] });
  if (footer) liftObserver.observe(footer);

  // ===== Profile dropdown behavior =====
  const profileBtn = document.getElementById('profileBtn');
  const profileMenu = document.getElementById('profileMenu');

  const closeMenu = () => {
    profileMenu.classList.remove('open');
    profileBtn.setAttribute('aria-expanded', 'false');
  };
  const openMenu = () => {
    profileMenu.classList.add('open');
    profileBtn.setAttribute('aria-expanded', 'true');
  };

  // Toggle on button click
  profileBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    const isOpen = profileMenu.classList.contains('open');
    isOpen ? closeMenu() : openMenu();
  });

  // Click outside to close
  document.addEventListener('click', (e) => {
    if (!profileMenu.classList.contains('open')) return;
    if (!profileMenu.contains(e.target) && !profileBtn.contains(e.target)) {
      closeMenu();
    }
  });

  // ESC to close, basic keyboard support
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') closeMenu();
    if (e.key === 'ArrowDown' && profileMenu.classList.contains('open')) {
      e.preventDefault();
      const first = profileMenu.querySelector('a');
      first && first.focus();
    }
  });

  // Close after selecting a link
  profileMenu.addEventListener('click', (e) => {
    if (e.target.matches('a')) closeMenu();
  });
</script>
</body>
</html>
